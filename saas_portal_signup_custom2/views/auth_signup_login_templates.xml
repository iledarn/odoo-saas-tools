<?xml version="1.0" encoding="utf-8"?>
<odoo>

<template id="saas_portal_signup_custom2.signup" inherit_id="auth_signup.signup">
	<xpath expr="//form[@class='oe_signup_form']" position="inside">
		<div id="fields_validation_string" style="display: none;" string='Please fill out this field.'></div>
		<div id="selections_validation_string" style="display: none;" string='Please select an item in the list.'></div>
		<div id="radio_validation_string" style="display: none;" string='Please select one of these options.'></div>
		<div id="checkbox_validation_string" style="display: none;" string='Please check this box if you want to proceed.'></div>
	</xpath>
	<xpath expr="//form[@class='oe_signup_form']" position="after">
		<script>
			function clearValidity(){
			document.getElementById('trial_radio_box').setCustomValidity('');
			}
		</script>
	</xpath>

</template>

<template id="saas_portal_signup_custom2.signup_fields" inherit_id="auth_signup.fields">

	<xpath expr="//div[@class='form-group field-login']" position="before">

		<div class="row">
			<div class="col-lg-6 form-group field-company o_signup_form_required">
				<label for="company" class="control-label">Company Name</label>
				<input type="text" name="company_name" t-att-value="company_name" id="company_name"
					class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" required="required"
					oninvalid="this.setCustomValidity($('#fields_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
			<div class="col-lg-6 form-group field-address o_signup_form_required">
				<label for="address" class="control-label">Address</label>
				<input type="text" name="address" t-att-value="address" id="address" class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" required="required"
					oninvalid="this.setCustomValidity($('#fields_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-3 form-group field-business_sector o_signup_form_required">
				<label class="control-label" for="country_id">Business sector</label>
				<select name="sector_id" class="form-control"
					required="required"
					oninvalid="this.setCustomValidity($('#selections_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None">
					<option value="" selected="selected" disabled="disabled">Select</option>
					<option t-if="prev_sel_sector" t-att-value="prev_sel_sector.id" selected="selected"><t t-esc="prev_sel_sector.name"/></option>
					<t t-foreach="sectors or []" t-as="sector">
						<option t-att-value="sector.id"><t t-esc="sector.name"/></option>
					</t>
				</select>
			</div>
			<div class="col-lg-3 form-group field-year o_signup_form_required">
				<label for="company" class="control-label">Year of establishment</label>
				<input type="text" name="establishment_year" t-att-value="establishment_year" id="establishment_year"
					class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" required="required"
					oninvalid="this.setCustomValidity($('#fields_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
			<!-- <div class="col-lg-3 form-group field-employee_number"> -->
			<!-- 	<label for="employee_number" class="control-label">Number of employee</label> -->
			<!-- 	<input type="text" name="employee_number" t-att-value="employee_number" id="employee_number" class="form-control" -->
			<!-- 		t-att-autofocus="'autofocus' if login and not only_passwords else None" -->
			<!-- 	    autocapitalize="off" t-att-readonly="'readonly' if only_passwords else None"/> -->
			<!-- </div> -->
			<div class="col-lg-3 form-group field-company_size">
				<label class="control-label" for="company_size">Company size</label>
				<select name="company_size" class="form-control"
					t-att-readonly="'readonly' if only_passwords else None">
					<option value="" selected="selected" disabled="disabled">Select</option>
					<option t-if="prev_sel_company_size" t-att-value="prev_sel_company_size" selected="selected"><t t-esc="prev_sel_company_size"/></option>
					<t t-foreach="company_sizes or []" t-as="company_size">
						<option t-att-value="company_size[0]"><t t-esc="company_size[1]"/></option>
					</t>
				</select>
			</div>
			<div class="col-lg-3 form-group field-account_currency_id o_signup_form_required">
				<label class="control-label" for="account_currency_id">Banking account currency</label>
				<select name="account_currency_id" class="form-control"
					required="required"
					oninvalid="this.setCustomValidity($('#selections_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None">
					<option value="" selected="selected" disabled="disabled">Select</option>
					<option t-if="prev_sel_currency" t-att-value="prev_sel_currency.id" selected="selected"><t t-esc="prev_sel_currency.name"/></option>
					<t t-foreach="currencies or []" t-as="currency">
						<option t-att-value="currency.id"><t t-esc="currency.name"/></option>
					</t>
				</select>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-3 form-group field-previous_year_turnover">
				<label for="previous_year_turnover" class="control-label">Previous year turn-over</label>
				<input type="text" name="previous_year_turnover" t-att-value="previous_year_turnover" id="previous_year_turnover" class="form-control"
					t-att-autofocus="'autofocus' if login and not only_passwords else None"
				    autocapitalize="off" t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-4 form-group field-city o_signup_form_required">
				<label for="city" class="control-label">City</label>
				<input type="text" name="city" t-att-value="city" id="city" class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" required="required"
					oninvalid="this.setCustomValidity($('#fields_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
			<div class="col-lg-4 form-group field-state">
				<label class="control-label" for="state_id">State</label>
				<select name="state_id" class="form-control"
					t-att-readonly="'readonly' if only_passwords else None">
					<option value="" selected="selected" disabled="disabled">Select</option>
					<option t-if="prev_sel_state" t-att-value="prev_sel_state.id" selected="selected"><t t-esc="prev_sel_state.name"/></option>
					<t t-foreach="states or []" t-as="state">
						<option t-att-value="state.id"><t t-esc="state.name"/></option>
					</t>
				</select>
			</div>
			<div class="col-lg-4 form-group field-country o_signup_form_required">
				<label class="control-label" for="country_id">Country</label>
				<select name="country_id" class="form-control"
					required="required"
					oninvalid="this.setCustomValidity($('#selections_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None">
					<option value="" selected="selected" disabled="disabled">Select</option>
					<option t-if="prev_sel_country" t-att-value="prev_sel_country.id" selected="selected"><t t-esc="prev_sel_country.name"/></option>
					<t t-foreach="countries or []" t-as="country">
						<option t-att-value="country.id"><t t-esc="country.name"/></option>
					</t>
				</select>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-4 form-group field-state">
				<label for="state" class="control-label">Postal code</label>
				<input type="text" name="postal_code" t-att-value="postal_code" id="postal_code" class="form-control"
					t-att-autofocus="'autofocus' if login and not only_passwords else None"
				    autocapitalize="off" t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
			<div class="col-lg-4 form-group field-tel o_signup_form_required">
				<label for="tel" class="control-label">Tel.</label>
				<input type="text" name="tel" t-att-value="tel" id="tel"
					class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" required="required"
					oninvalid="this.setCustomValidity($('#fields_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
			<div class="col-lg-4 form-group field-fax">
				<label for="fax" class="control-label">Fax</label>
				<input type="text" name="fax" t-att-value="fax" id="fax"
					class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-4 form-group field-business_reg_no o_signup_form_required">
				<label for="business_reg_no" class="control-label">Business Registration No.</label>
				<input type="text" name="business_reg_no" t-att-value="business_reg_no" id="business_reg_no"
					class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" required="required"
					oninvalid="this.setCustomValidity($('#fields_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
			<div class="col-lg-4 form-group field-tax_code o_signup_form_required">
				<label for="tax_code" class="control-label">Tax code</label>
				<input type="text" name="tax_code" t-att-value="tax_code" id="tax_code"
					class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" required="required"
					oninvalid="this.setCustomValidity($('#fields_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
			<div class="col-lg-4 form-group field-company_website">
				<label for="company_website" class="control-label">Website</label>
				<input type="text" name="company_website" t-att-value="company_website" id="company_website"
					class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6 form-group field-dnb_number">
				<label for="dnb_number" class="control-label">D&amp;B Number (<a href="https://www.dandb.com/product/companyupdate/companyupdateRegistration?execution=e1s1" target="_blank">Get a D&amp;B Number</a>)</label>
				<input type="text" name="dnb_number" t-att-value="dnb_number" id="dnb_number"
					class="form-control" t-att-autofocus="'autofocus' if login and not only_passwords else None"
					autocapitalize="off" t-att-readonly="'readonly' if only_passwords else None"/>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6 form-group field-role o_signup_form_required">
				<label for="product_id" class="control-label">ERP Package</label>
				<select name="product_id" class="form-control" placeholder="Select a package"
					required="required"
					oninvalid="this.setCustomValidity($('#selections_validation_string').attr('string'))"
					oninput="setCustomValidity('')"
					t-att-readonly="'readonly' if only_passwords else None"
					t-att-autofocus="'autofocus' if login and not only_passwords else None">
					<option value="" selected="selected" disabled="disabled">Select a package</option>
					<option t-if="prev_sel_product" t-att-value="prev_sel_product.id" selected="selected"><t t-esc="prev_sel_product.name"/></option>
					<t t-foreach="products or []" t-as="product">
						<option t-if="product.saas_default" selected="selected" t-att-value="product.id"><t t-esc="product.name"/></option>
						<option t-if="not product.saas_default" t-att-value="product.id"><t t-esc="product.name"/></option>
					</t>
				</select>
			</div>
			<div class="col-lg-6 form-group field-name o_signup_form_required">
				<label for="dbname" class="control-label">Desired web address for your system</label>
				<div class="input-group">
					<input type="text" name="dbname" t-att-value="dbname"
						id="dbname" class="form-control" placeholder="your-company-name" maxlength="10"
						required="required"
						oninvalid="this.setCustomValidity($('#fields_validation_string').attr('string'))"
						oninput="setCustomValidity('')"
						t-att-readonly="'readonly' if only_passwords else None"
						t-att-autofocus="'autofocus' if login and not only_passwords else None" />
				<span class="input-group-addon">.<t t-raw="base_saas_domain"/></span>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-3 form-group field-trial">
				<div class="input-group">
					<label>
						<input t-if="trial_or_working == 'trial'" checked="checked"
							type="radio" id="trial_radio_box" name="trial_or_working" value="trial" required="required"
							oninvalid="this.setCustomValidity($('#radio_validation_string').attr('string'))"
							onclick="clearValidity()"> Trial</input>
						<input t-else=""
							type="radio" id="trial_radio_box" name="trial_or_working" value="trial" required="required"
							oninvalid="this.setCustomValidity($('#radio_validation_string').attr('string'))"
							onclick="clearValidity()"> Trial</input>
					</label>
				</div>
			</div>
			<div class="col-lg-3 form-group field-working">
				<div class="input-group">
					<label>
						<input t-if="trial_or_working == 'working'" checked="checked"
							type="radio" name="trial_or_working" value="working" required="required"
							onclick="clearValidity()"> Paid Subscription</input>
						<input t-else=""
							type="radio" name="trial_or_working" value="working" required="required"
							onclick="clearValidity()"> Paid Subscription</input>
					</label>
				</div>
			</div>

		</div>

	</xpath>

	<xpath expr="//div[@class='form-group field-login']" position="replace">
		<div class="row"><div class="col-lg-12">$0</div></div>
	</xpath>
	<xpath expr="//div[@class='form-group field-login']" position="attributes">
		<attribute name="class">form-group field-login o_signup_form_required</attribute>
	</xpath>
	<xpath expr="//input[@name='login']" position="attributes">
		<attribute name="oninvalid">this.setCustomValidity($('#fields_validation_string').attr('string'))</attribute>
		<attribute name="oninput">setCustomValidity('')</attribute>
	</xpath>

	<xpath expr="//div[@class='form-group field-name']" position="replace">
		<div class="row"><div class="col-lg-12">$0</div></div>
	</xpath>
	<xpath expr="//div[@class='form-group field-name']" position="attributes">
		<attribute name="class">form-group field-name o_signup_form_required</attribute>
	</xpath>
	<xpath expr="//input[@name='name']" position="attributes">
		<attribute name="oninvalid">this.setCustomValidity($('#fields_validation_string').attr('string'))</attribute>
		<attribute name="oninput">setCustomValidity('')</attribute>
	</xpath>

	<xpath expr="//div[@class='form-group field-password']" position="replace">
		<div class="row"><div class="col-lg-12">$0</div></div>
	</xpath>
	<xpath expr="//div[@class='form-group field-password']" position="attributes">
		<attribute name="class">form-group field-password o_signup_form_required</attribute>
	</xpath>
	<xpath expr="//input[@name='password']" position="attributes">
		<attribute name="oninvalid">this.setCustomValidity($('#fields_validation_string').attr('string'))</attribute>
		<attribute name="oninput">setCustomValidity('')</attribute>
	</xpath>

	<xpath expr="//div[@class='form-group field-confirm_password']" position="replace">
		<div class="row"><div class="col-lg-12">$0</div></div>
	</xpath>
	<xpath expr="//div[contains(@class,'form-group field-confirm_password')]" position="attributes">
		<attribute name="class">form-group field-confirm_password o_signup_form_required</attribute>
	</xpath>
	<xpath expr="//input[@name='confirm_password']" position="attributes">
		<attribute name="oninvalid">this.setCustomValidity($('#fields_validation_string').attr('string'))</attribute>
		<attribute name="oninput">setCustomValidity('')</attribute>
	</xpath>

	<xpath expr="//div[contains(@class,'form-group field-confirm_password')]" position="after">
		<div class="row">
			<div class="col-lg-6 form-group">
				<label for="product_id" class="control-label">Terms and Conditions</label>
				<div class="input-group">
					<input type="checkbox" required="required"
						oninvalid="this.setCustomValidity($('#checkbox_validation_string').attr('string'))"
						onclick="setCustomValidity('')"
						name="option3" value="a3" /> I agree with the
					<a class="btn btn-link btn" data-toggle="modal" data-target=".modal_terms_and_conditions">Terms and Conditions</a>
				</div>
			</div>
		</div>
		<div class="modal fade modal_terms_and_conditions" role="dialog" aria-hidden="true">
			<div class="modal-dialog modal-content">
				<div class="modal-header alert alert-warning">
				    <button type="button" class="close" data-dismiss="modal">
					<span aria-hidden="true">x</span>
				    </button>
				    <h4 class="modal-title">Terms and Conditions</h4>
				</div>
				<div class="modal-body">
					<p>
						Lorem ipsum sodales sapien gravida ultricies sapien lectus ornare amet gravida enim urna integer bibendum ut risus arcu metus sem, proin ut justo eu. Rutrum eu rutrum, massa sodales sit tempus — curabitur non bibendum nulla pellentesque metus. Non, maecenas molestie nulla nam curabitur, nulla justo odio integer ipsum — ultricies pharetra. Enim: in non curabitur sapien molestie in non cursus ornare auctor. Integer, nulla nam malesuada tempus nec quisque duis cursus nec odio rutrum nulla. Rutrum tellus diam ultricies amet proin tellus urna, ut quam sapien orci.
					</p>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6 form-group">
				<div class="g-recaptcha" t-att-data-sitekey="website.google_recaptcha_site_key"></div>
			</div>
		</div>
	</xpath>

</template>

</odoo>
